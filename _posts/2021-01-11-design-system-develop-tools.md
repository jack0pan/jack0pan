---
title: Design System ç»„ä»¶åº“æ­å»ºä¹‹å¼€å‘å·¥å…·
excerpt: æœ¬ç¯‡æ–‡ç« ä¸»è¦ä»‹ç»ç»„ä»¶åº“ä½¿ç”¨çš„å¼€å‘å·¥å…·ï¼Œæ­£æ‰€è°“ï¼šå·¥æ¬²å–„å…¶äº‹ï¼Œå¿…å…ˆåˆ©å…¶å™¨ã€‚
tags: ["Design System", "å¼€å‘å·¥å…·"]
category: å‰ç«¯
last_modified_at: 2022-02-08
---

## å‰è¨€

åœ¨ 20 ä¸–çºª 60 å¹´ä»£ï¼Œè®¡ç®—æœºæŠ€æœ¯å¼€å§‹è¶…è¿‡è½¯ä»¶ç¼–ç¨‹çš„é€Ÿåº¦ã€‚è®¡ç®—æœºå˜å¾—æ›´å¿«ã€æ›´ä¾¿å®œï¼Œä½†æ˜¯è½¯ä»¶å¼€å‘ä»ç„¶ç¼“æ…¢ï¼Œéš¾ä»¥ç»´æŠ¤ï¼Œå¹¶ä¸”å®¹æ˜“å‡ºé”™ã€‚è¿™ç§å·®è·ï¼Œä»¥åŠå¦‚ä½•åº”å¯¹ï¼Œè¢«ç§°ä¸ºâ€œè½¯ä»¶å±æœºâ€ã€‚1968 å¹´ï¼Œåœ¨åŒ—çº¦è½¯ä»¶å·¥ç¨‹ä¼šè®®ä¸Šï¼ŒDouglas McIlroy æå‡ºäº†åŸºäºç»„ä»¶çš„å¼€å‘ä½œä¸ºè§£å†³è¿™ä¸€å›°å¢ƒçš„å¯èƒ½æ–¹æ³•ã€‚åŸºäºç»„ä»¶çš„å¼€å‘æä¾›äº†ä¸€ç§é€šè¿‡ä½¿ä»£ç å¯é‡ç”¨æ¥åŠ å¿«ç¼–ç¨‹æ½œåŠ›çš„æ–¹æ³•ï¼Œä»è€Œä½¿å…¶æ›´é«˜æ•ˆä¸”æ›´æ˜“äºæ‰©å±•ã€‚è¿™é™ä½äº†å·¥ä½œé‡ï¼Œæé«˜äº†è½¯ä»¶å¼€å‘çš„é€Ÿåº¦ï¼Œä½¿è½¯ä»¶èƒ½å¤Ÿæ›´å¥½åœ°åˆ©ç”¨ç°ä»£è®¡ç®—æœºçš„åŠ›é‡ã€‚

ç°åœ¨ï¼Œ50 å¹´åï¼Œæˆ‘ä»¬æ­£ç»å†ç€ç±»ä¼¼çš„æŒ‘æˆ˜ï¼Œä½†è¿™æ¬¡æ˜¯åœ¨è®¾è®¡æ–¹é¢ã€‚è®¾è®¡æ­£åœ¨åŠªåŠ›æ‰©å±•å®ƒæ‰€æ”¯æŒçš„åº”ç”¨ç¨‹åºï¼Œå› ä¸ºè®¾è®¡ä»ç„¶æ˜¯é’ˆå¯¹å•ä¸ªé—®é¢˜çš„å®šåˆ¶è§£å†³æ–¹æ¡ˆã€‚ä½ æ˜¯å¦æ›¾ç»æ‰§è¡Œè¿‡ç”¨æˆ·ç•Œé¢å®¡è®¡ï¼Œå‘ç°ä½ ä½¿ç”¨äº†å‡ åç§ç›¸ä¼¼çš„è“è‰²è‰²è°ƒï¼Œæˆ–è€…ç›¸åŒæŒ‰é’®çš„æ’åˆ—ï¼Ÿå°†å…¶ä¹˜ä»¥åº”ç”¨ç¨‹åºä¸­çš„æ¯ä¸ª UIï¼Œæ‚¨å°±ä¼šå¼€å§‹æ„è¯†åˆ°è®¾è®¡å˜å¾—å¤šä¹ˆä¸ä¸€è‡´ã€ä¸å®Œæ•´å’Œéš¾ä»¥ç»´æŠ¤ã€‚

è®¾è®¡ç³»ç»Ÿé€šè¿‡è®¾è®¡å¯é‡å¤ä½¿ç”¨ï¼Œè®©å›¢é˜Ÿèƒ½å¤Ÿæ›´å¿«æ›´å¥½åœ°ç ”å‘å‡ºäº§å“ã€‚è¿™æ˜¯è®¾è®¡ç³»ç»Ÿçš„æ ¸å¿ƒå’Œä¸»è¦ä»·å€¼ã€‚è®¾è®¡ç³»ç»Ÿæ˜¯å¯é‡ç”¨ç»„ä»¶çš„é›†åˆï¼Œéµå¾ªæ˜ç¡®çš„æ ‡å‡†ï¼Œå¯ä»¥å°†å…¶ç»„è£…åœ¨ä¸€èµ·ä»¥æ„å»ºä»»æ„æ•°é‡çš„åº”ç”¨ç¨‹åºã€‚

GrowingIO äº§å“ç ”å‘å›¢é˜Ÿä¹Ÿå¼€å§‹é€šè¿‡æ­å»ºè‡ªå·±çš„è®¾è®¡ç³»ç»Ÿâ€”â€” GrowingIO Design Systemï¼Œæ¥æä¾›äº¤äº’ä½“éªŒä¸€è‡´çš„äº§å“å’Œæå‡ç ”å‘æ•ˆç‡ã€‚ç»„ä»¶åº“åšä¸ºè®¾è®¡ç³»ç»Ÿçš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼Œå‰ç«¯å›¢é˜Ÿé€šè¿‡ç³»åˆ—æ–‡ç« æ¥ä»‹ç»å¦‚ä½•ä¸€æ­¥æ­¥æ­å»ºç»„ä»¶åº“ã€‚æœ¬ç¯‡æ–‡ç« ä¸»è¦ä»‹ç»ç»„ä»¶åº“ [GrowingIO Design](https://github.com/growingio/gio-design) ä½¿ç”¨çš„å¼€å‘å·¥å…·ï¼Œæ­£æ‰€è°“ï¼šå·¥æ¬²å–„å…¶äº‹ï¼Œå¿…å…ˆåˆ©å…¶å™¨ã€‚

## TL;DR

æœ¬æ–‡æŒ‰ç…§å·¥å…·çš„ä½œç”¨æŠŠå·¥å…·åˆ†ä¸ºï¼šä»£ç è§„èŒƒå’Œä»£ç ç®¡ç†ä¸¤ç±»ï¼Œè¿™ä¸¤ç±»ä¸»è¦ç”¨åˆ°çš„å·¥å…·æœ‰ï¼š

1. ä»£ç è§„èŒƒå·¥å…·
   a. `Prettier`ï¼šç”¨äºä»£ç æ ¼å¼åŒ–
   b. `stylelint`ï¼šå¯¹æ ·å¼æ–‡ä»¶ï¼ˆ `CSS`Â  å’Œ `Less` ï¼‰è¿›è¡Œè§„èŒƒæ£€æŸ¥
   c. `ESLint`ï¼šå¯¹`ECMAScript/JavaScript` ä»£ç è¿›è¡Œè§„èŒƒæ£€æŸ¥
2. ä»£ç ç®¡ç†å·¥å…·
   a. `Commitzen`ï¼šå¸®åŠ©ç¼–å†™è§„èŒƒçš„ commit message
   b. `commitlint`ï¼šå¯¹ commit message æ ¼å¼è¿›è¡Œæ£€æŸ¥
   c. `lint-stage`ï¼šåªå¯¹ `git`Â  ç¼“å­˜çš„ä»£ç æ–‡ä»¶è¿›è¡Œè§„èŒƒæ£€æŸ¥ï¼Œæé«˜é€Ÿåº¦
   d. `husky`ï¼šæ•´åˆæ‰€æœ‰çš„æ£€æŸ¥å·¥å…·

`husky` å¦‚ä½•æŠŠæ£€æŸ¥å·¥å…·éƒ½æ•´åˆçš„ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
å…¶ä¸­ï¼š

- `pre-commit` é˜¶æ®µï¼šæ‰§è¡Œ `lint-staged` ï¼Œä¼šå¯¹æš‚å­˜çš„æ–‡ä»¶æ‰§è¡Œ `prettier` ã€`stylelint` å’Œ `eslint` ä¸‰ä¸ªå‘½ä»¤ã€‚
- `commit-msg` é˜¶æ®µï¼šæ‰§è¡Œ `commitlint`ï¼Œæ£€æŸ¥ commit message æ˜¯å¦ç¬¦åˆè§„èŒƒã€‚

æ¥ä¸‹æ¥ï¼Œå¯¹è¿™ä¸¤ç±»ç”¨åˆ°çš„å·¥å…·è¿›è¡Œè¯¦ç»†ä»‹ç»ã€‚

## ä»£ç è§„èŒƒå·¥å…·

ä»£ç è§„èŒƒç›¸å½“äºå›¢é˜Ÿä¹ƒè‡³å…¬å¸çš„æ•´ä¸ªæŠ€æœ¯å›¢é˜Ÿåä½œçš„å¥‘çº¦ï¼ŒåŒæ—¶è¿™äº›è§„èŒƒæ˜¯ç»è¿‡è®¸å¤šé¡¹ç›®å®è·µå‡ºæ¥çš„å®è´µç»éªŒï¼Œå¯ä»¥åœ¨å¼€å‘ä¸­å°‘èµ°å¾ˆå¤šçš„å¼¯è·¯ã€‚ä»£ç è§„èŒƒæ€§é äººå·¥åœ¨ Code Review æ—¶å€™æ£€æŸ¥å¤ªè´¹æ—¶è´¹åŠ›ï¼Œæ‰€ä»¥ä¸»è¦ç”¨å·¥å…·æ¥ä¿éšœã€‚è¿™é‡Œä¸»è¦ä½¿ç”¨çš„æ˜¯ `Prettier` ã€`stylelint` å’Œ `ESLint` ä¸‰ä¸ªå·¥å…·ã€‚

### Prettier

`Prettier`Â  æ˜¯ä¸€ä¸ªâ€œæœ‰æ€åº¦â€çš„ä»£ç æ ¼å¼åŒ–å·¥å…·ï¼Œå®ƒæ”¯æŒï¼š

- JavaScript ï¼ˆåŒ…æ‹¬å®éªŒæ€§åŠŸèƒ½ï¼‰
- [JSX](https://facebook.github.io/jsx/)
- [Angular](https://angular.io/)
- [Vue](https://vuejs.org/)
- [Flow](https://flow.org/)
- [TypeScript](https://www.typescriptlang.org/)
- CSSã€[Less](http://lesscss.org/) å’Œ [SCSS](https://sass-lang.com/)
- [HTML](https://en.wikipedia.org/wiki/HTML)
- [JSON](https://json.org/)
- [GraphQL](https://graphql.org/)
- [Markdown](https://commonmark.org/)ï¼ŒåŒ…æ‹¬ [GFM](https://github.github.com/gfm/) å’Œ [MDX](https://mdxjs.com/)
- [YAML](https://yaml.org/)

å®ƒç§»é™¤äº†æ‰€æœ‰åŸå§‹æ ·å¼å¹¶ç¡®ä¿è¾“å‡ºçš„æ‰€æœ‰ä»£ç éƒ½ç¬¦åˆä¸€è‡´çš„æ ·å¼ã€‚å®ƒä¹Ÿä¼šæŠŠä»£ç è¡Œçš„é•¿åº¦ä¹Ÿçº³å…¥è€ƒé‡ï¼Œç„¶åæŠŠä»£ç é‡æ–°æ‰“å°å‡ºæ¥ã€‚
ä¾‹å¦‚ï¼Œå¯¹äºä»¥ä¸‹ä»£ç ï¼š

```javascript
foo(arg1, arg2, arg3, arg4);
```

è¿™æ®µä»£ç ä¸€è¡Œæ­£åˆé€‚ï¼Œå› æ­¤æ ¼å¼åŒ–åä»£ç å°†ä¿æŒåŸæ ·ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬éƒ½é‡åˆ°è¿‡è¿™ç§æƒ…å†µï¼š

```javascript
foo(reallyLongArg(), omgSoManyParameters(), IShouldRefactorThis(), isThereSeriouslyAnotherOne());
```

è¿™æ®µä»£ç å¤ªé•¿äº†ï¼Œæˆ‘ä»¬ä¹‹å‰è°ƒç”¨æ–¹æ³•çš„æ ¼å¼å°±ä¸é€‚ç”¨äº†ã€‚Prettier ä¼šåšè¯¦å°½çš„å·¥ä½œé‡æ–°è¾“å‡ºè¿™æ®µä»£ç ï¼Œåƒä¸‹é¢çš„ä»£ç ä¸€æ ·ï¼š

```javascript
foo(reallyLongArg(), omgSoManyParameters(), IShouldRefactorThis(), isThereSeriouslyAnotherOne());
```

#### å®‰è£…

```bash
$ yarn add --dev --exact prettier
```

#### é…ç½®

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºé…ç½®æ–‡ä»¶ï¼š

```bash
$ echo {}> .prettierrc.js
```

ä¸‹ä¸€æ­¥åˆ›å»º `.prettierignore`Â  æ–‡ä»¶ï¼Œç”¨æ¥å‘Šè¯‰ `Prettier CLI`Â  æˆ–è€…ç¼–è¾‘å™¨å“ªäº›æ–‡ä»¶ä¸éœ€è¦ä»£ç æ ¼å¼åŒ–ï¼š

```
build
coverage
```

#### ä½¿ç”¨

è¿è¡Œä¸€ä¸‹å‘½ä»¤æ¥æ ¼å¼åŒ–ç°æœ‰ä»£ç ï¼š

```bash
$ yarn prettier --write .
```

è¿™éƒ¨åˆ†å·¥ä½œå¯ä»¥é›†æˆåˆ° `Git`Â  æµç¨‹ä¸­ï¼Œè¯¦æƒ…è§åæ–‡ã€‚

### stylelint

`stylelint`Â  æ˜¯ä¸€ä¸ªå¼ºå¤§çš„ï¼Œç°ä»£çš„ `linter`ï¼Œå¸®åŠ©ä½ é¿å…é”™è¯¯ï¼Œå¹¶åœ¨ä½ çš„é£æ ¼ä¸­æ‰§è¡Œæƒ¯ä¾‹ã€‚
å®ƒçš„å¼ºå¤§ä¹‹å¤„:

- äº†è§£æœ€æ–°çš„ `CSS`Â  è¯­æ³•ï¼ŒåŒ…æ‹¬è‡ªå®šä¹‰å±æ€§å’Œ 4 çº§é€‰æ‹©å™¨
- ä» `HTML`ã€ `markdown`Â  å’Œ `CSS-in-JS`Â  å¯¹è±¡å’Œæ¨¡æ¿æ–‡å­—ä¸­æå–åµŒå…¥æ ·å¼
- è§£æç±»ä¼¼ `CSS`Â  çš„è¯­æ³•ï¼Œå¦‚ `SCSS`ã€ `Sass`ã€ `Less`Â  å’Œ `SugarSS`
- æœ‰è¶…è¿‡ 170 ä¸ª å†…ç½®è§„åˆ™æ¥æ•æ‰é”™è¯¯ã€åº”ç”¨é™åˆ¶å’Œæ‰§è¡Œé£æ ¼æƒ¯ä¾‹
- æ”¯æŒæ’ä»¶ï¼Œå› æ­¤æ‚¨å¯ä»¥åˆ›å»ºè‡ªå·±çš„è§„åˆ™æˆ–ä½¿ç”¨ç¤¾åŒºç¼–å†™çš„æ’ä»¶
- è‡ªåŠ¨ä¿®å¤å¤§å¤šæ•°é£æ ¼è¿è§„
- é€šè¿‡è¶…è¿‡ 15000 ä¸ªå•å…ƒæµ‹è¯•è¿›è¡Œäº†è‰¯å¥½çš„æµ‹è¯•
- æ”¯æŒå¯æ‰©å±•æˆ–åˆ›å»ºçš„å…±äº«é…ç½®
- ä¸å›ºæ‰§å·±è§ï¼Œå› æ­¤æ‚¨å¯ä»¥æ ¹æ®è‡ªå·±çš„å®é™…éœ€è¦å¯¹å…¶è¿›è¡Œè‡ªå®šä¹‰
- æ‹¥æœ‰ä¸æ–­å‘å±•çš„ç¤¾åŒºï¼Œå¹¶è¢« Facebookã€GitHub å’Œ WordPress ä½¿ç”¨

#### å®‰è£…

å‰æ–‡æåˆ°ä½¿ç”¨ `Prettier`Â  å·¥å…·ï¼Œä¸ºäº†å’Œ `Prettier`Â  é…ç½®ï¼Œè¿™é‡Œé¢å¤–å®‰è£… `stylelint-config-prettier`Â  æ’ä»¶ï¼š

```bash
$ yarn add --dev stylelint stylelint-config-standard stylelint-config-prettier
```

#### é…ç½®

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºé…ç½®æ–‡ä»¶ `.stylelintrc.js`ï¼š

```javascript
module.exports = {
  extends: ["stylelint-config-standard", "stylelint-config-prettier"],
};
```

#### ä½¿ç”¨

æ£€æŸ¥æ–‡ä»¶çš„å‘½ä»¤ï¼š

```bash
$ npx stylelint --syntax less --fix
```

GrowingIO Design ä½¿ç”¨ `less`Â  æ¥ç¼–å†™æ ·å¼ï¼Œè¿™é‡Œå¢åŠ äº† `--syntax less`Â  å‚æ•°ï¼Œé€šè¿‡ `--fix`Â  å‚æ•°ç›´æ¥ä¿®æ”¹ä¸ç¬¦åˆè§„èŒƒçš„æ–‡ä»¶ã€‚

### ESLint

`ESLint`Â  æ˜¯åœ¨ `ECMAScript/JavaScript`Â  ä»£ç ä¸­è¯†åˆ«å’ŒæŠ¥å‘Šæ¨¡å¼åŒ¹é…çš„å·¥å…·ï¼Œå®ƒçš„ç›®æ ‡æ˜¯ä¿è¯ä»£ç çš„ä¸€è‡´æ€§å’Œé¿å…é”™è¯¯ã€‚åœ¨è®¸å¤šæ–¹é¢ï¼Œå®ƒå’Œ `JSLint`ã€ `JSHint` ç›¸ä¼¼ï¼Œé™¤äº†å°‘æ•°çš„ä¾‹å¤–ï¼š

- `ESLint`Â  ä½¿ç”¨ [Espree](https://github.com/eslint/espree) è§£æ`JavaScript`ï¼›
- `ESLint` ä½¿ç”¨ AST å»åˆ†æä»£ç ä¸­çš„æ¨¡å¼ï¼›
- `ESLint` æ˜¯å®Œå…¨æ’ä»¶åŒ–çš„,æ¯ä¸€ä¸ªè§„åˆ™éƒ½æ˜¯ä¸€ä¸ªæ’ä»¶å¹¶ä¸”ä½ å¯ä»¥åœ¨è¿è¡Œæ—¶æ·»åŠ æ›´å¤šçš„è§„åˆ™ã€‚

> Esprima æ˜¯ç”¨ ECMAScript ç¼–å†™çš„é«˜æ€§èƒ½ã€æ ‡å‡†å…¼å®¹çš„ ECMAScript è§£æå™¨ã€‚
> Espree ç°åœ¨å»ºç«‹åœ¨ Acorn ä¹‹ä¸Šï¼ŒAcorn å…·æœ‰æ¨¡å—åŒ–æ¶æ„ï¼Œå…è®¸æ‰©å±•æ ¸å¿ƒåŠŸèƒ½ã€‚Espree çš„ç›®æ ‡æ˜¯é€šè¿‡ç±»ä¼¼çš„ API äº§ç”Ÿç±»ä¼¼äº Esprima çš„è¾“å‡ºï¼Œä»¥ä¾¿å¯ä»¥ä»£æ›¿ Esprima ä½¿ç”¨ã€‚

#### å®‰è£…

```bash
$ yarn add --dev eslint
```

#### é…ç½®

è¿™é‡Œç”¨ `ESLint`Â  å‘½ä»¤æ¥åˆå§‹åŒ–é…ç½®ï¼š

```bash
$ npx eslint --init
âœ” How would you like to use ESLint? Â· style
âœ” What type of modules does your project use? Â· esm
âœ” Which framework does your project use? Â· react
âœ” Does your project use TypeScript? Â· No / Yes
âœ” Where does your code run? Â· browser
âœ” How would you like to define a style for your project? Â· guide
âœ” Which style guide do you want to follow? Â· airbnb
âœ” What format do you want your config file to be in? Â· YAML
Checking peerDependencies of eslint-config-airbnb@latest
The config that you've selected requires the following dependencies:

eslint-plugin-react@^7.20.0
@typescript-eslint/eslint-plugin@latest
eslint-config-airbnb@latest
eslint@^5.16.0 || ^6.8.0 || ^7.2.0
eslint-plugin-import@^2.21.2
eslint-plugin-jsx-a11y@^6.3.0
eslint-plugin-react-hooks@^4 || ^3 || ^2.3.0 || ^1.7.0
@typescript-eslint/parser@latest

```

åŒæ ·ï¼Œä¸ºäº†å’Œ `Prettier`Â  é…åˆï¼Œé¢å¤–å®‰è£…ï¼š

```bash
$ yarn add --dev eslint-plugin-prettier eslint-config-prettier
```

ç„¶åä¿®æ”¹ `.eslintrc.js`Â  æ–‡ä»¶ï¼š

```javascript
module.exports = {
  env: {
    browser: true,
    es2021: true,
    jest: true,
  },
  extends: ["plugin:react/recommended", "airbnb", "prettier", "prettier/react"],
  parser: "@typescript-eslint/parser",
  parserOptions: {
    ecmaFeatures: {
      jsx: true,
    },
    ecmaVersion: 12,
    sourceType: "module",
  },
  plugins: ["react", "@typescript-eslint", "prettier"],
  rules: {
    "prettier/prettier": "error",
  },
};
```

#### ä½¿ç”¨

è¿è¡Œå‘½ä»¤ï¼š

```bash
$ npx eslint --cache --fix
```

- `--cache`Â ï¼šå­˜å‚¨æœ‰å…³å·²å¤„ç†æ–‡ä»¶çš„ä¿¡æ¯ï¼Œä»¥ä¾¿ä»…å¯¹æ›´æ”¹çš„æ–‡ä»¶è¿›è¡Œæ“ä½œã€‚
- `--fix`Â ï¼šå¯¹è¿åè§„åˆ™çš„ä»£ç ï¼Œä¼šæ ¹æ®è§„åˆ™è¿›è¡Œä¿®æ”¹ã€‚

### æœ€ç»ˆæ•ˆæœ

ä»£ç è§„èŒƒå·¥å…·å‰é¢éƒ½ä»‹ç»å®Œäº†ï¼ŒæŠŠå®ƒä»¬é›†æˆåˆ° CI æµç¨‹ä¸­ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
![image.png](https://cdn.nlark.com/yuque/0/2021/png/86170/1610021216771-0e435ed5-cb15-4431-b194-2d91b20f1da6.png#align=left&display=inline&height=491&margin=%5Bobject%20Object%5D&name=image.png&originHeight=982&originWidth=1750&size=914151&status=done&style=none&width=875)
è¿™é‡Œ CI å·¥å…·ç”¨çš„æ˜¯ [GitHub Actions](https://github.com/features/actions)ï¼Œè¿™æ ·å¯ä»¥æŠŠç»“æœæ³¨é‡Šåˆ°ä»£ç ä¸­ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
![image.png](https://cdn.nlark.com/yuque/0/2021/png/86170/1610021249937-1565e981-79d0-46dc-ad16-2c943db14dcd.png#align=left&display=inline&height=652&margin=%5Bobject%20Object%5D&name=image.png&originHeight=1304&originWidth=1220&size=592708&status=done&style=none&width=610)

## ä»£ç ç®¡ç†å·¥å…·

è¿™éƒ¨åˆ†ä¸»è¦ä»‹ç»å¦‚ä½•æŠŠå‰é¢ä»‹ç»çš„ä»£ç è§„èŒƒå·¥å…·é›†æˆåˆ°ä»£ç æäº¤æµç¨‹ä¸­ï¼Œå¹¶ä¸”è§„èŒƒæ¯æ¬¡ä»£ç æäº¤ã€‚æœ¬æ–‡ä»¥ä»£ç ç®¡ç†å·¥å…· `Git` ä¸ºä¾‹ï¼Œ `Git`Â  æ¯æ¬¡æäº¤ä»£ç ï¼Œéƒ½è¦å†™ Commit Messageï¼ˆæäº¤è¯´æ˜ï¼‰ï¼Œå¦åˆ™å°±ä¸å…è®¸æäº¤ã€‚æ ¼å¼åŒ–çš„ Commit Messageï¼Œæœ‰å‡ ä¸ªå¥½å¤„ï¼š

- æä¾›æ›´å¤šçš„å†å²ä¿¡æ¯ï¼Œæ–¹ä¾¿å¿«é€Ÿæµè§ˆã€‚
- å¯ä»¥è¿‡æ»¤æŸäº› commitï¼ˆæ¯”å¦‚æ–‡æ¡£æ”¹åŠ¨ï¼‰ï¼Œä¾¿äºå¿«é€ŸæŸ¥æ‰¾ä¿¡æ¯ã€‚
- å¯ä»¥ç›´æ¥ä» commit ç”Ÿæˆ Change logã€‚

æ›´å¤šå†…å®¹æŸ¥çœ‹[ã€ŠCommit message å’Œ Change log ç¼–å†™æŒ‡å—ã€‹](https://www.ruanyifeng.com/blog/2016/01/commit_message_change_log.html)æ–‡ç« ã€‚

### Commitizen

`Commitizen`Â  æ˜¯ä¸€ä¸ªæ’°å†™åˆæ ¼ Commit Message çš„å·¥å…·ã€‚

#### å®‰è£…

å‘½ä»¤å¦‚ä¸‹ï¼š

```bash
$ yarn global add commitizen
```

ç„¶åï¼Œåœ¨é¡¹ç›®ç›®å½•é‡Œï¼Œè¿è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œä½¿å…¶æ”¯æŒè§„èŒƒçš„ Commit Message æ ¼å¼ï¼š

```bash
$ commitizen init cz-conventional-changelog --yarn --dev --exact
```

#### ä½¿ç”¨

ä»¥åï¼Œå‡¡æ˜¯ç”¨åˆ° `git commit`Â  å‘½ä»¤ï¼Œä¸€å¾‹æ”¹ä¸ºä½¿ç”¨ `git cz`ã€‚è¿™æ—¶ï¼Œå°±ä¼šå‡ºç°é€‰é¡¹ï¼Œç”¨æ¥ç”Ÿæˆç¬¦åˆæ ¼å¼çš„ Commit Messageã€‚

### commitlint

`commitlint`Â  å¸®åŠ©æ‚¨çš„å›¢é˜Ÿéµå®ˆæäº¤çº¦å®šã€‚é€šè¿‡æ”¯æŒ npm å®‰è£…çš„é…ç½®ï¼Œå¯ä»¥è½»æ¾å…±äº«æäº¤çº¦å®šã€‚

#### å®‰è£…

```bash
yarn add --dev @commitlint/config-conventional @commitlint/cli
```

#### é…ç½®

```bash
echo "module.exports = {extends: ['@commitlint/config-conventional']}" > .commitlintrc.js
```

### lint-stage

é’ˆå¯¹æš‚å­˜çš„ `git`Â  æ–‡ä»¶è¿è¡Œ `linters`ã€‚

#### å®‰è£…

```bash
$ npx mrm lint-staged
```

#### é…ç½®

åˆ›å»º `.lintstagedrc.js`Â  æ–‡ä»¶ï¼š

```javascript
module.exports = {
  "**/*": "prettier --write --ignore-unknown",
  "*.less": "stylelint --syntax less --fix",
  "*.(j|t)s?(x)": "eslint --cache --fix",
};
```

### husky

`husky`Â  æ”¹å–„ä½ çš„ `commits`Â  å’Œæ›´å¤š ğŸ¶ å–”ï¼æ‚¨å¯ä»¥ä½¿ç”¨å®ƒæ¥åˆ é™¤æäº¤æ¶ˆæ¯ã€è¿è¡Œæµ‹è¯•ã€åˆ é™¤ä»£ç ç­‰ã€‚å½“æ‚¨æäº¤æˆ–æ¨é€æ—¶ã€‚`husky` æ”¯æŒæ‰€æœ‰çš„ `git hooks`ã€‚

#### å®‰è£…

```bash
$ yarn add --dev husky
```

#### é…ç½®

è¿™é‡Œé€šè¿‡é…ç½® `git hooks`Â  æŠŠå‰æ–‡æåˆ°çš„å·¥å…·å…¨éƒ½ä¸²èµ·æ¥ï¼
åˆ›å»º `.huskrc.js`Â  æ–‡ä»¶ï¼š

```javascript
module.exports = {
  hooks: {
    "pre-commit": "lint-staged",
    "commit-msg": "commitlint -E HUSKY_GIT_PARAMS",
  },
};
```

#### ä½¿ç”¨

ä»¥ååªè¦æ‰§è¡Œ `git cz`Â  åï¼Œå°±å¯ä»¥çœ‹åˆ°ä»¥ä¸‹ä¿¡æ¯ï¼š

```bash
$ git cz
...
husky > pre-commit (node v12.20.0)
âœ” Preparing...
âœ” Running tasks...
âœ” Applying modifications...
âœ” Cleaning up...
husky > commit-msg (node v12.20.0)
...
```

## å°ç»“

æ–‡ç« å¼€å¤´ä»‹ç»äº†è®¾è®¡ç³»ç»Ÿé€šè¿‡è®¾è®¡å¯é‡å¤ä½¿ç”¨ï¼Œè®©å›¢é˜Ÿèƒ½å¤Ÿæ›´å¿«æ›´å¥½åœ°ç ”å‘å‡ºäº§å“ã€‚è¿™ä¹Ÿæ˜¯ GrowingIO äº§å“ç ”å‘å›¢é˜Ÿæ­å»ºç»„ä»¶åº“çš„ä¸»è¦åŸå› ã€‚åç»­è¯¦ç»†ä»‹ç»äº†ç»„ä»¶åº“ç”¨åˆ°çš„å¼€å‘å·¥å…·ï¼Œå¯ä»¥åšä¸ºå¤§å®¶åœ¨æ­å»ºç»„ä»¶åº“æ—¶å€™çš„ä¸€ä»½å‚è€ƒã€‚

## å‚è€ƒ

- [Design Systems Handbook](https://www.designbetter.co/design-systems-handbook)
- [GrowingIO Design](https://github.com/growingio/gio-design)
- [Prettier Â· Opinionated Code Formatter](https://prettier.io/)
- [A mighty, modern style linter Â· stylelint](https://stylelint.io/)
- [ESLint - Pluggable JavaScript linter](https://eslint.org/)
- [Commit message å’Œ Change log ç¼–å†™æŒ‡å—](https://www.ruanyifeng.com/blog/2016/01/commit_message_change_log.html)
- [Commitizen by commitizen](http://commitizen.github.io/cz-cli/)
- [commitlint - Lint commit messages](https://commitlint.js.org/#/)
- [lint-staged - Run linters on git staged files](https://github.com/okonet/lint-staged)
- [Husky improves your commits and more ğŸ¶ woof!](https://github.com/typicode/husky/tree/master)
